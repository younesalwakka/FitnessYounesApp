@{
    ViewData["Title"] = "Ana Sayfa";
}

<!-- Hero Section -->
<section class="hero-section">
    <div class="container-fluid px-4">
        <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h1 class="hero-title">Fitness Younes App</h1>
                <p class="hero-subtitle">Spor salonu yönetim ve randevu sisteminiz. Antrenörlerinizi keşfedin, randevu alın ve AI destekli egzersiz önerileri alın.</p>
                @if (!User.Identity?.IsAuthenticated == true)
                {
                    <div class="hero-buttons mt-4">
                        <a asp-area="Identity" asp-page="/Account/Register" class="btn btn-primary btn-lg me-3">
                            <i class="bi bi-person-plus"></i> Hemen Üye Ol
                        </a>
                        <a asp-area="Identity" asp-page="/Account/Login" class="btn btn-outline-primary btn-lg">
                            <i class="bi bi-box-arrow-in-right"></i> Giriş Yap
                        </a>
                    </div>
                }
                else
                {
                    <div class="hero-buttons mt-4">
                        <a asp-controller="Randevular" asp-action="Index" class="btn btn-primary btn-lg me-3">
                            <i class="bi bi-calendar-check"></i> Randevu Al
                        </a>
                        <a asp-controller="Ai" asp-action="Index" class="btn btn-outline-primary btn-lg">
                            <i class="bi bi-robot"></i> AI Önerisi Al
                        </a>
                    </div>
                }
            </div>
            <div class="col-lg-6 text-center">
                <div class="hero-image">
                    <i class="bi bi-activity hero-icon"></i>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="features-section py-5">
    <div class="container">
        <h2 class="text-center mb-5 section-title">Özellikler</h2>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="bi bi-building"></i>
                    </div>
                    <h4>Spor Salonları</h4>
                    <p>Farklı spor salonlarını keşfedin, çalışma saatlerini görüntüleyin ve hizmetleri inceleyin.</p>
                    <a asp-controller="SporSalonlari" asp-action="Index" class="btn btn-sm btn-outline-primary">Keşfet <i class="bi bi-arrow-right"></i></a>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="bi bi-people"></i>
                    </div>
                    <h4>Uzman Antrenörler</h4>
                    <p>Deneyimli antrenörlerimizle tanışın, uzmanlık alanlarını görüntüleyin ve randevu alın.</p>
                    <a asp-controller="Antrenorler" asp-action="Index" class="btn btn-sm btn-outline-primary">Antrenörler <i class="bi bi-arrow-right"></i></a>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="bi bi-calendar-event"></i>
                    </div>
                    <h4>Kolay Randevu</h4>
                    <p>Online randevu sistemi ile uygun zamanınızda antrenör ve hizmet seçerek randevu alabilirsiniz.</p>
                    @if (User.Identity?.IsAuthenticated == true)
                    {
                        <a asp-controller="Randevular" asp-action="Index" class="btn btn-sm btn-outline-primary">Randevu Al <i class="bi bi-arrow-right"></i></a>
                    }
                    else
                    {
                        <a asp-area="Identity" asp-page="/Account/Login" class="btn btn-sm btn-outline-primary">Giriş Yap <i class="bi bi-arrow-right"></i></a>
                    }
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="bi bi-robot"></i>
                    </div>
                    <h4>AI Destekli Öneriler</h4>
                    <p>Yapay zeka ile kişiselleştirilmiş egzersiz ve diyet planları alın. Vücut tipinize göre öneriler.</p>
                    <a asp-controller="Ai" asp-action="Index" class="btn btn-sm btn-outline-primary">AI Önerisi <i class="bi bi-arrow-right"></i></a>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="bi bi-list-check"></i>
                    </div>
                    <h4>Çeşitli Hizmetler</h4>
                    <p>Fitness, yoga, pilates ve daha fazlası. Size uygun hizmeti seçin ve hemen başlayın.</p>
                    <a asp-controller="Hizmetler" asp-action="Index" class="btn btn-sm btn-outline-primary">Hizmetler <i class="bi bi-arrow-right"></i></a>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="bi bi-graph-up"></i>
                    </div>
                    <h4>İlerleme Takibi</h4>
                    <p>Randevularınızı takip edin, antrenörlerinizle iletişim kurun ve fitness hedeflerinize ulaşın.</p>
                    @if (User.Identity?.IsAuthenticated == true)
                    {
                        <a asp-controller="Randevular" asp-action="Index" class="btn btn-sm btn-outline-primary">Randevularım <i class="bi bi-arrow-right"></i></a>
                    }
                    else
                    {
                        <a asp-area="Identity" asp-page="/Account/Register" class="btn btn-sm btn-outline-primary">Üye Ol <i class="bi bi-arrow-right"></i></a>
                    }
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Stats Section -->
@if (User.Identity?.IsAuthenticated == true && User.IsInRole("Admin"))
{
    <section class="stats-section py-5 bg-light">
        <div class="container">
            <h2 class="text-center mb-5 section-title">İstatistikler</h2>
            <div class="row text-center">
                <div class="col-md-3 mb-4">
                    <div class="stat-box">
                        <i class="bi bi-building stat-icon"></i>
                        <h3 class="stat-number" id="stat-salons">-</h3>
                        <p class="stat-label">Spor Salonu</p>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="stat-box">
                        <i class="bi bi-people stat-icon"></i>
                        <h3 class="stat-number" id="stat-trainers">-</h3>
                        <p class="stat-label">Antrenör</p>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="stat-box">
                        <i class="bi bi-person-check stat-icon"></i>
                        <h3 class="stat-number" id="stat-members">-</h3>
                        <p class="stat-label">Üye</p>
                    </div>
                </div>
                <div class="col-md-3 mb-4">
                    <div class="stat-box">
                        <i class="bi bi-calendar-check stat-icon"></i>
                        <h3 class="stat-number" id="stat-appointments">-</h3>
                        <p class="stat-label">Randevu</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
}

<!-- CTA Section -->
@if (!User.Identity?.IsAuthenticated == true)
{
    <section class="cta-section py-5">
        <div class="container-fluid px-4">
            <div class="container text-center">
                <h2 class="mb-4">Hemen Başlayın!</h2>
                <p class="lead mb-4">Fitness yolculuğunuza bugün başlayın. Ücretsiz üye olun ve tüm özelliklerden yararlanın.</p>
                <a asp-area="Identity" asp-page="/Account/Register" class="btn btn-primary btn-lg">
                    <i class="bi bi-person-plus"></i> Ücretsiz Üye Ol
                </a>
            </div>
        </div>
    </section>
}

@section Scripts {
    @if (User.Identity?.IsAuthenticated == true && User.IsInRole("Admin"))
    {
        <script>
            // Fetch stats from API
            fetch('/api/AntrenorlerApi')
                .then(response => response.json())
                .then(data => {
                    document.getElementById('stat-trainers').textContent = data.length || 0;
                })
                .catch(() => {
                    document.getElementById('stat-trainers').textContent = '0';
                });

            fetch('/api/RandevularApi')
                .then(response => response.json())
                .then(data => {
                    document.getElementById('stat-appointments').textContent = data.length || 0;
                })
                .catch(() => {
                    document.getElementById('stat-appointments').textContent = '0';
                });
        </script>
    }
}
